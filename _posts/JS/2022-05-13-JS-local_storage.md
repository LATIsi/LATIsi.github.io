---
title: "JS 데이터 저장의 웹 스토리지의 local storage"
excerpt: "그리고 관련된 session Storage"
date: 2022-05-13
categories:
  - JS
tags:
  - JS
  - local storage
  - session Storage
last_modified_at: 2022-05-13
---

JS로 개발을 하다보면 데이터를 저장하는데, 별로 중요하지 않거나 사라져도 괜찮은 데이터 - `음성 높낮이, 페이지수, 클릭 횟수` 같은... - 들은 DB에 저장하기에는 애매해서 `클라이언트 브라우저에서 데이터를 저장할 수 있는` 웹 스토리지 `(web storage)`에 저장을 한다.

## 웹 스토리지 란?

키와 값으로 이루어진 데이터를 저장할 수가 있다.  
`문자열 데이터만 저장할수 밖에 없다,,,!` 그러므로 `json 객체`로 뭉쳐서 데이터를 읽고 쓰는게 편하다.  
웹 스토리지는 `로컬/세션 스토로지`가 있다!  
물론 한 컴퓨터의 하나의 동일한 브라우저만 해당됨. (크롬은 크롬만, 사파리는 사파리만.)  
`세션 스토로지`는 웹페이지의 `세션의 데이터가 서로 각각 저장`되며, 끝나면 데이터가 지워지지만, `로컬 스토리지`는 여러 세션의 데이터가 공유되어 `탭이나 창을 닫아도 남아있다.`

<br>

```
localStorage.속성(값);
or
sessionStorage.속성(값);
```

<br>

| localStorage/sessionStorage 의 속성 |                      설명                       |
| ----------------------------------- | :---------------------------------------------: |
| `setItem("키", 값)`                 |         특정 키에 데이터 삽입/저장하기          |
| `getItem("키")`                     |      키와 관련된 데이터 읽어오기(가져오기)      |
| `removeItem("키")`                  |                키의 데이터 삭제                 |
| `clear()`                           |     모든 키의 데이터를 비우기. 즉 전체삭제      |
| `length`                            |           저장된 키와 값의 쌍의 갯수            |
| `key(숫자)`                         | n번째 키 이름을 반환한다. 의존성을 가지면 안됨. |

<br>

### json으로는 어떻게...

<br>

JSON은 문자열간의 상호변환을 수행해주는 두개의 메서드를 제공한다.

- json문자열을 JS객체로 변환하는 JSON.parse()
- js객체를 json문자열로 변환하는 JSON.stringify()

외부에서 문자열의 형태로 주어진데이터를 내장 데이터 타입(다루기 쉽게 바꾸는것)으로 변환하는 과정을 `deserialization (역직렬화)` 라고 부른다.

<br>

`JSON.stringify({ a: '..' , b: '..' , c:..})`

`JSON.parse(localStorage.getItem('키'))`

<br>

크롬을 기준으로, f12를 눌러 개발자 도구를 킨뒤 어플리케이션탭에서 storage들을 확인할 수 있다.

---

<br>

### TIP!

`JSON.stringify()` 를 사용하여 JS의 객체를 json 문자열로 변환하기! <br>

` JSON.stringify`(`json 문자열로 변환할 값`,`함수/배열.`, `가독성을 위한 공백 삽입, 문자열이나 숫자가 값`)

<br>
또한 stringify()는  값이 number 또는 boolean라면 그냥 그 데이터형태로 가져온다, 객체나 배열은... 문자열형태로 가져오므로 주의.

데이터가 많으면 3번쨰 인자의 공백삽입으로 `들여쓰기할 공백의 숫자를 입력가능`.

<br>

---

<Br>

### 참고한 링크와 블로그

#### [https://www.daleseo.com/js-json/](https://www.daleseo.com/js-json/)
